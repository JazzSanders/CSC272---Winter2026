<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Quiz</title>
    <link rel="stylesheet" href="index-styles.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
</head>
<body>

    <div id="app" class="container">
    <section id="role-screen" class="screen card">
        <h1 style="color: var(--purple); font-size: 2.5rem; margin-bottom: 10px;">Quiz Game</h1>
        <p id="session-info" style="font-weight: bold; color: var(--purple);"></p> 
        
        <div class="join-section">
            <input type="text" id="player-name" placeholder="Your Name">
            <input type="text" id="join-code" placeholder="4-Digit PIN">
            <button class="btn-primary" onclick="initSession('player')">Join Game</button>
        </div>
        <div style="margin-top: 25px; border-top: 1px solid #eee; padding-top: 20px;">
            <button class="btn-secondary" onclick="showScreen('editor-screen')">Create New Quiz</button>
        </div>
    </section>

    <section id="editor-screen" class="screen card hidden">
        <h2>New Quiz Creator</h2>
        <input type="text" id="q-input" placeholder="Enter your question...">
        <div class="editor-grid">
            <input type="text" id="opt-0-in" placeholder="Red Option">
            <input type="text" id="opt-1-in" placeholder="Blue Option">
            <input type="text" id="opt-2-in" placeholder="Yellow Option">
            <input type="text" id="opt-3-in" placeholder="Green Option">
        </div>
        <select id="correct-opt">
            <option value="0">Red is Correct</option>
            <option value="1">Blue is Correct</option>
            <option value="2">Yellow is Correct</option>
            <option value="3">Green is Correct</option>
        </select>
        <button class="btn-primary" onclick="saveQuestion()">+ Save Question</button>
        <button class="btn-secondary" id="start-session-btn" onclick="initSession('creator')" style="display:none;">Finish & Start Session</button>
    </section>

    <section id="audience-screen" class="screen card hidden">
        <div class="big-pin-box">
            <p>JOINING PIN</p>
            <h1 id="big-pin-display">----</h1>
        </div>
        
        <div id="correct-count-box" class="hidden">
            Correct Answers: <span id="correct-total">0</span>
        </div>
        <div class="chart-container" style="display: flex; justify-content: space-around; align-items: flex-end; height: 100px; margin: 20px 0;">
            <div id="bar-0" class="opt-0" style="width: 20px; height: 0px;"></div>
            <div id="bar-1" class="opt-1" style="width: 20px; height: 0px;"></div>
            <div id="bar-2" class="opt-2" style="width: 20px; height: 0px;"></div>
            <div id="bar-3" class="opt-3" style="width: 20px; height: 0px;"></div>
        </div>

        <div id="leaderboard-list"></div>
        <button class="btn-primary" onclick="nextQuestion()">Next Question</button>
    </section>

    <section id="game-screen" class="screen card hidden">
        <div id="player-score-display" style="font-weight: bold; margin-bottom: 10px;">Score: 0</div>
        <div id="timer-circle" class="timer">10</div>
        <h2 id="question-text">Waiting for host...</h2>
        <div id="answer-grid" class="answer-grid"></div>
    </section>

    <section id="result-screen" class="screen card hidden">
        <h2>Game Over!</h2>
        <div id="winner-podium"></div>
        <button class="btn-primary" onclick="location.reload()">Play Again</button>
    </section>
</div>

    <script src="script.js"></script>
</body>
</html>